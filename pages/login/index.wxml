<!--pages/login/index.wxml-->

<view>
    <view class="back">
        <image src="/static/images/loginImages/ic_back.png" wx:if="{{type=='phone'}}" bindtap="changeType"
            data-type="check" />
    </view>
    <view class="logoImage {{type=='phone'?'logSizeSmall':''}}" bindtap="changeType" data-type="check">
        <image src="/static/images/loginImages/logo_hkd_big.png" />
    </view>

    <!-- type == check -->
    <view class="{{type=='check'?'show':'hidden'}}">
        <button open-type="getPhoneNumber" class="buttonBox" wx:if="{{type==='check'}}"
            bindgetphonenumber="loginWithWx">

            <!-- <button open-type="getUserInfo" class="buttonBox" wx:if="{{type==='check'}}" bindgetuserinfo="loginWithWx"> -->

            <view class="icon" style="width:40rpx;height:33rpx">
                <image src="/static/images/loginImages/ic_wx.png" />
            </view>
            <view class="word">微信手机号快捷登录</view>
        </button>
        <view class="buttonBox" wx:if="{{type==='check'}}" bindtap="changeType" data-type="phone">
            <view class="icon" style="width:25rpx;height:38rpx">
                <image src="/static/images/loginImages/ic_sj.png" />
            </view>
            <view class="word">手机验证码登录</view>
        </view>
        <view class="checkBox" wx:if="{{type=='check'}}">
            <view class="icon">
                <image src="{{checkFile?'/static/images/loginImages/ic_choose_pre.png':''}}" bindtap="checkBoxStatus" />
            </view>
            <view class="word">
                登录表示同意<span class="span" bindtap="showConfidence" data-type="服务协议">《服务协议》</span><span class="span"
                    bindtap="showConfidence" data-type="隐私协议">《隐私协议》</span>
            </view>
        </view>
    </view>
    <!-- type == check -->

    <!-- type == phone -->
    <view class="{{type=='phone'?'show':'hidden'}}">
        <view class="inputBox" hidden="{{type!='phone'}}">
            <input bindinput="inputChange" data-type="phoneNumber" placeholder="请输入手机号码"
                value="{{input.phoneNumber}}" />
        </view>
        <view class="inputBox" hidden="{{type!='phone'}}">
            <input bindinput="inputChange" data-type="checkCode" placeholder="请输入验证码" value="{{input.checkCode}}" />
            <view class="button {{getCodeStatus?'grayBg':''}}" bindtap="getCheckCode">
                {{getCodeStatus?time+'s后尝试':'获取验证码'}}</view>
        </view>
        <view class="buttonBox mainColorBg" style="margin-top:65rpx" hidden="{{type!='phone'}}"
            bindtap="loginWithCheckCode">
            登录
        </view>
        <view class="checkBox" wx:if="{{type=='phone'}}">
            <view class="icon">
                <image src="{{checkFile?'/static/images/loginImages/ic_choose_pre.png':''}}" bindtap="checkBoxStatus" />
            </view>
            <view class="word">
                登录表示同意<span class="span">《服务协议》</span><span class="span">《隐私协议》</span>
            </view>
        </view>
    </view>
    <!-- type == phone -->

</view>